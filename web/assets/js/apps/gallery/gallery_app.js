// Generated by CoffeeScript 1.10.0
(function() {
  app.module('GalleryApp', function(GalleryApp, app, Backbone, Marionette, $, _) {
    var API;
    GalleryApp.Router = Marionette.AppRouter.extend({
      appRoutes: {
        '': 'listAlbums',
        'album/:id': 'showAlbum',
        'album/:id/page/:page': 'showAlbum'
      }
    });
    API = {
      listAlbums: function() {
        GalleryApp.List.Controller.listAlbums();
      },
      showAlbum: function(id, page) {
        GalleryApp.Show.Controller.showAlbum(id, page);
      }
    };
    app.on('albums:list', function() {
      API.listAlbums();
    });
    app.on('album:show', function(id, page) {
      var url;
      url = 'album/' + id;
      if (page) {
        url += '/page/' + page;
      }
      app.navigate(url);
      API.showAlbum(id, page);
    });
    app.addInitializer(function() {
      new GalleryApp.Router({
        controller: API
      });
    });
  });

}).call(this);
