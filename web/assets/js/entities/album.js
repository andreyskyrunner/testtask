// Generated by CoffeeScript 1.10.0
(function() {
  app.module('Entities', function(Entities, app, Backbone, Marionette, $, _) {
    var API, fetchAlbums;
    Entities.Album = Backbone.Model.extend({
      urlRoot: 'albums'
    });
    Entities.AlbumCollection = Backbone.Collection.extend({
      url: 'albums',
      model: Entities.Album
    });
    fetchAlbums = function() {
      var albums, defer;
      albums = new Entities.AlbumCollection;
      defer = $.Deferred();
      albums.fetch({
        success: function(data) {
          defer.resolve(data);
        }
      });
      return defer;
    };
    API = {
      getAlbumEntities: function() {
        return fetchAlbums();
      }
    };
    app.reqres.setHandler('album:entities', function() {
      return API.getAlbumEntities();
    });
  });

}).call(this);
